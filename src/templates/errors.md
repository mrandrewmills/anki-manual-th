# การตรวจสอบและข้อผิดพลาด

<!-- toc -->

เมื่อคุณบันทึกการเปลี่ยนแปลงประเภทบันทึกย่อหรือส่งออกสำรับ Anki 2.1.45+ จะตรวจสอบ
หาข้อผิดพลาดทั่วไปบางอย่าง ข้อผิดพลาดเหล่านี้จะทำให้เกิดปัญหาในภายหลังเมื่อมีคนเรียน
การ์ดที่ได้รับผลกระทบ ดังนั้น Anki จะไม่ให้คุณดำเนินการต่อจนกว่าคุณจะแก้ไขข้อผิดพลาดเหล่านั้น

## พื้นฐาน

โปรดดู [แนวคิดหลัก](../getting-started.md#key-concepts) ก่อนอ่านต่อ

ข้อผิดพลาดส่วนใหญ่ด้านล่างนี้จะต้องการให้คุณแก้ไขประเภทบันทึกย่อ/เทมเพลตการ์ดของคุณ ในการทำเช่นนั้น:

-   เปิดหน้าจอเรียกดู และดูรายการทางด้านซ้าย
-   ค้นหาประเภทบันทึกย่อที่กล่าวถึงในข้อความแสดงข้อผิดพลาด คุณสามารถใช้แถบค้นหาที่ด้านบนซ้าย
    ได้หากจำเป็น
-   คลิกที่ประเภทบันทึกย่อ เพื่อแสดงการ์ด/บันทึกย่อทางด้านขวา
-   คลิกปุ่ม การ์ด... ที่ด้านบนของพื้นที่แก้ไขเพื่อเปิด [หน้าจอเทมเพลต](./intro.md#the-templates-screen)

## ปัญหาเฉพาะ

### ข้อผิดพลาดไวยากรณ์เทมเพลต

ข้อผิดพลาดประเภทนี้บ่งชี้ถึงการใช้ไวยากรณ์ [การแทนที่ฟิลด์](./fields.md)
ที่ไม่ถูกต้อง

คุณสามารถแก้ไขข้อผิดพลาดบนเทมเพลตได้โดยการเปิดหน้าจอเทมเพลตการ์ด:

-   ในเวอร์ชันคอมพิวเตอร์ ให้แก้ไขการ์ดที่มีปัญหา แล้วคลิกที่ปุ่ม การ์ด...
-   ใน AnkiMobile ขณะดูการ์ดที่มีปัญหาในหน้าจอเรียน ให้แตะที่รูปเฟือง/เกียร์ แล้วแตะ เทมเพลตการ์ด

เมื่อคุณแก้ไขข้อผิดพลาด มันจะอัปเดตการ์ดทั้งหมดของประเภทนั้น - คุณไม่จำเป็นต้องทำการเปลี่ยนแปลงเดียวกันสำหรับทุกการ์ดที่ใช้เทมเพลต

สิ่งที่ต้องเปลี่ยนแปลงจะขึ้นอยู่กับข้อความที่คุณได้รับ

**พบ '{{Field}}' แต่ไม่มีฟิลด์ที่ชื่อว่า 'Field'**

สิ่งนี้บ่งชี้ว่าเทมเพลตของคุณมีชื่อของฟิลด์ที่ไม่มีอยู่จริง ในการแก้ไขปัญหา ให้ค้นหา
`{{Field}}` ภายในเทมเพลตการ์ด แล้วลบออก

**ขาด }} ใน {{Field**

ข้อความนี้จะแสดงเมื่อพบ {{ ในเทมเพลตโดยไม่มี }} ที่ตรงกัน ตัวอย่างเช่น หากคุณมี

```
{{Field
```

จะต้องเปลี่ยนเป็น

```
{{Field}}
```

**ขาด {{/Field}}**

ซึ่งหมายความว่า Anki พบ `{{#Field}}` หรือ `{{^Field}}` ในเทมเพลตการ์ดของคุณ โดยไม่มี `{{/Field}}` ที่ตรงกัน การลบ `{{#Field}}` หรือ `{{^Field}}` ออกจากเทมเพลตจะแก้ไขข้อผิดพลาดได้

**พบ {{/One}} แต่คาดหวัง {{/Two}}**

การแทนที่ตามเงื่อนไขต้องปิดในลำดับเดียวกับที่เปิด ตัวอย่างเช่น เทมเพลตต่อไปนี้ไม่ถูกต้อง:

```
{{#One}}
  {{#Two}}
    {{Three}}
  {{/One}}
{{/Two}}
```

ในการแก้ไขปัญหา เทมเพลตควรเปลี่ยนเป็นดังนี้:

```
{{#One}}
  {{#Two}}
    {{Three}}
  {{/Two}}
{{/One}}
```

**พบ {{/Field}} แต่ขาด '{{#Field}}' หรือ '{{^Field}}'**

แท็กปิดต้องตรงกับแท็กเปิด ตัวอย่างเช่น ต่อไปนี้ไม่ถูกต้อง เนื่องจากไม่มี `{{#Two}}` หรือ `{{^Two}}` ที่จุดเริ่มต้น:

```
  {{Field}}
{{/Two}}
```

สามารถแก้ไขได้โดยการลบแท็กปิด:

```
{{Field}}
```

### ด้านหน้าที่เหมือนกัน

คุณได้กำหนดค่า Anki ให้สร้างคำถามที่เหมือนกันสองข้อสำหรับแต่ละอินพุต สิ่งนี้สามารถ
เกิดขึ้นได้หากคุณเพิ่มประเภทการ์ดใหม่โดยไม่ได้ปรับเปลี่ยนใดๆ การ์ดที่เหมือนกัน
จะเพิ่มภาระงานของคุณเป็นสองเท่า และทำให้การจัดตารางเวลาของ Anki มีประสิทธิภาพน้อยลง

ในการแก้ไขปัญหานี้ ให้เปิด [หน้าจอเทมเพลต](./intro.md#the-templates-screen) และ
เลือกหนึ่งในรายการที่ซ้ำกันที่ด้านบน จากนั้นใช้ปุ่มที่ด้านบนขวาเพื่อ
ลบประเภทการ์ดที่เลือก ซึ่งจะลบการ์ด/บันทึกย่อที่ซ้ำกันทั้งหมด
ที่ใช้ประเภทการ์ดนั้นด้วย

### ด้านหน้าของการ์ดว่างเปล่า

<div id="no-field-replacement-on-front-side" />

Anki แสดงการ์ดโดยการรวมฟิลด์ที่คุณป้อนเข้ากับ
เทมเพลตที่ระบุว่าฟิลด์ใดควรปรากฏที่ด้านหน้าและด้านหลังของการ์ดของคุณ หากคุณได้รับ
ข้อความว่าการ์ดมีด้านหน้าที่ว่างเปล่า หมายความว่าไม่มีฟิลด์ใดๆ ที่รวมอยู่ในเทมเพลตด้านหน้าของคุณมีข้อความใดๆ อยู่ หรือคุณมีฟิลด์ที่มีข้อความ
แต่ไม่มีฟิลด์ใดรวมอยู่ในเทมเพลตด้านหน้า
คุณสามารถแก้ไขปัญหานี้ได้โดยการแก้ไขการ์ดในเวอร์ชันคอมพิวเตอร์ คลิกที่ **การ์ด...**
และตรวจสอบให้แน่ใจว่ามีฟิลด์อย่างน้อยหนึ่งฟิลด์ที่มีข้อความบางอย่างรวมอยู่ในเทมเพลตด้านหน้า
คุณสามารถเพิ่มฟิลด์เพิ่มเติมได้ด้วยปุ่มเพิ่มฟิลด์

หากคุณใช้ประเภทบันทึกย่อแบบเติมคำในช่องว่าง (Cloze)
โปรดตรวจสอบให้แน่ใจว่าคุณได้รวมการลบคำในช่องว่างอย่างน้อยหนึ่งรายการในฟิลด์ข้อความ เช่น {{c1::ข้อความที่ถูกลบแบบเติมคำ}}

หากคุณใช้ฟังก์ชันพิมพ์คำตอบ โปรดตรวจสอบให้แน่ใจว่าคุณได้รวมฟิลด์อื่นไว้ที่ด้านหน้าด้วย

### ไม่มีตัวกรอง Cloze ในประเภทบันทึกย่อ Cloze
<div id="no-cloze-filter-on-cloze-notetype" />

เทมเพลตด้านหน้าและด้านหลังของประเภทบันทึกย่อแบบเติมคำในช่องว่าง (Cloze) ควรมีตัวกรอง [cloze](../editing.md#cloze-deletion)
หากไม่มี คุณจะต้องเพิ่มกลับเข้าไปเพื่อให้ Anki สามารถสร้างการ์ด Cloze
ได้อย่างถูกต้อง

#### การ์ดเปล่าใบเดียว

เมื่อสร้าง Cloze แต่ละหมายเลข Cloze จะถูกเปลี่ยนเป็นการ์ดแยกกัน ตัวอย่างเช่น ต่อไปนี้จะสร้างการ์ดสามใบ:

```
{{c1::นี่}} คือ {{c2::ตัวอย่าง}} {{c3::ประโยค}}
```

หากคุณแก้ไขข้อความในภายหลัง และลบหรือเปลี่ยนหมายเลข Cloze การ์ดที่สร้างขึ้นก่อนหน้านี้อาจกลายเป็นว่างเปล่า ตัวอย่างเช่น:

```
{{c1::นี่}} คือ {{c2::ตัวอย่าง}}
```

และ

```
{{c1::นี่}} คือ {{c2::ตัวอย่าง}} {{c1::ประโยค}}
```

ทั้งสองการเปลี่ยนแปลงจะทำให้การ์ด 3 ว่างเปล่า เมื่อคุณดูการ์ด 3 คุณจะเห็นข้อความที่ระบุว่าการ์ดว่างเปล่า และสามารถล้างได้ด้วยฟังก์ชันการ์ดเปล่า คุณสามารถเข้าถึงฟังก์ชันนั้นได้ผ่านเมนูเครื่องมือของหน้าต่างหลักของเวอร์ชันคอมพิวเตอร์ และใช้เพื่อลบการ์ดเปล่า โปรดตรวจสอบการ์ดเปล่าที่รายงานก่อน และหากไม่แน่ใจ ให้สร้างข้อมูลสำรองด้วยรายการเมนู ไฟล์>ส่งออก ก่อนดำเนินการต่อ

#### การ์ด Cloze ทั้งหมดว่างเปล่า

หากคุณแก้ไขเทมเพลตการ์ดของคุณโดยไม่ได้ตั้งใจ อาจทำให้ไม่มีการลบ Cloze ปรากฏขึ้น หากเกิดเหตุการณ์เช่นนั้น โปรดแก้ไขการ์ดที่มีปัญหาดังกล่าว และจดชื่อของฟิลด์แรกไว้ - โดยปกติจะเรียกว่า "Text" จากนั้น โปรด:

-   คลิกที่ปุ่ม การ์ด...
-   แทนที่ข้อความด้านหน้าด้วย

    ```
    {{cloze:Text}}
    ```

-   แทนที่ข้อความด้านหลังด้วยข้อความเดียวกัน

หากฟิลด์ของคุณมีชื่ออื่นที่ไม่ใช่ Text ให้แทนที่ Text ด้วยชื่อของฟิลด์