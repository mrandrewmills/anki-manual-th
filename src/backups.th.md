# การสำรองข้อมูล

<!-- toc -->

## การสำรองข้อมูลอัตโนมัติ

Anki จะสร้างการสำรองข้อมูลการ์ดของคุณโดยอัตโนมัติ ซึ่งรวมถึงข้อความในบัตรและข้อมูลการจัดตารางเวลา แต่ไม่รวมไฟล์เสียงหรือภาพ

การสำรองข้อมูลอัตโนมัติสามารถใช้ในการกู้คืนจากความผิดพลาดได้ แต่คุณไม่ควรพึ่งพาเพียงอย่างเดียว เนื่องจากถูกเก็บไว้ในอุปกรณ์ของคุณ จึงไม่สามารถปกป้องข้อมูลได้หากอุปกรณ์เสียหรือถูกขโมย เราขอแนะนำให้คุณใช้ร่วมกับ
[การสำรองข้อมูลด้วยตนเอง](#การสำรองข้อมูล-colpkg-ด้วยตนเอง)

### การกู้คืน

ในการกู้คืนจากการสำรองข้อมูลอัตโนมัติ:

- เปิด Anki แล้วเลือก สลับโปรไฟล์ (Switch Profile) จากเมนู ไฟล์ (File)
- คลิกปุ่ม "เปิดการสำรองข้อมูล" (Open Backup)
- เลือกไฟล์สำรองที่คุณต้องการกู้คืน

```admonish warning
เมื่อกู้คืนจากการสำรองข้อมูล การเปลี่ยนแปลงใด ๆ หลังจากที่ไฟล์สำรองถูกสร้างขึ้นจะสูญหาย
```

Anki จะปิดการซิงค์และการสำรองข้อมูลอัตโนมัติเมื่อคุณกู้คืนจากไฟล์สำรอง หลังจากที่คุณแน่ใจว่าได้กู้คืนไฟล์ที่ถูกต้องแล้ว ให้ปิดและเปิด Anki ใหม่อีกครั้งเพื่อกลับสู่สถานะปกติ

### การสร้าง

Anki จะสร้างไฟล์สำรองตามช่วงเวลา คุณสามารถกำหนดช่วงเวลาได้ที่หน้าจอ
[การตั้งค่า](preferences.th.md) โดยค่าเริ่มต้นคือทุก 30 นาที

การกระทำบางอย่างจะทำให้เกิดการสำรองข้อมูลทันที แม้ว่าจะยังไม่ถึงช่วงเวลาที่กำหนดไว้:

- การซิงค์แบบดาวน์โหลดทางเดียว
- การนำเข้าไฟล์ .colpkg โดยใช้ ไฟล์ > นำเข้า (File > Import)
- เครื่องมือ > ตรวจสอบฐานข้อมูล (Tools > Check Database)

หลังจากที่ไฟล์สำรองมีอายุ 2 วัน Anki จะเริ่มลบไฟล์สำรองเก่าบางรายการ คุณสามารถควบคุมจำนวนไฟล์สำรองรายวัน รายสัปดาห์ และรายเดือนที่คุณต้องการเก็บไว้ได้

ไฟล์สำรองที่สร้างด้วย Anki เวอร์ชัน 2.1.50 จะไม่สามารถนำเข้าในเวอร์ชันเก่าได้

## การสำรองข้อมูล colpkg ด้วยตนเอง

### การกู้คืน

คุณสามารถกู้คืนจากไฟล์สำรองด้วยตนเองโดยใช้ ไฟล์ > นำเข้า (File > Import)

### การสร้าง

ใน Anki เวอร์ชัน 2.1.50 ขึ้นไป คุณสามารถใช้คำสั่ง ไฟล์ > สร้างการสำรองข้อมูล (File > Create Backup) เพื่อเรียกการสำรองข้อมูลทันที วิธีนี้ทำงานเหมือนกับการสำรองข้อมูลอัตโนมัติ และไม่รวมไฟล์มีเดีย

หากคุณต้องการสร้างการสำรองข้อมูลที่รวมไฟล์เสียงและรูปภาพ:

- เลือก ส่งออก (Export) จากเมนู ไฟล์
- ตรวจสอบให้แน่ใจว่าเลือก "Anki collection package (.colpkg)"
- เปิดใช้งานตัวเลือก "รวมมีเดีย" (include media)

ระบบจะสร้างไฟล์ .colpkg ที่รวมการ์ดทั้งหมดและไฟล์เสียง/ภาพที่ใช้ เราแนะนำให้คุณเก็บไฟล์นี้ไว้ในที่ปลอดภัย เช่น อุปกรณ์อื่น หรือบริการจัดเก็บข้อมูลบนคลาวด์ เช่น Dropbox หรือ Google Drive

## AnkiWeb

[การซิงค์](./syncing.th.md) ข้อมูลของคุณกับ AnkiWeb จะช่วยป้องกันข้อมูลสูญหายเมื่ออุปกรณ์ถูกขโมยหรือเสีย หากคุณต้องการกู้คืนข้อมูลจาก AnkiWeb
คุณสามารถใช้การซิงค์ทางเดียวในหน้าการตั้งค่า หรือซิงค์จากอุปกรณ์ใหม่ แล้วเลือก "ดาวน์โหลด" (Download)

## บันทึกการลบ

Anki จะบันทึกบัตรที่ถูกลบไว้ในไฟล์ชื่อ deleted.txt ภายในโฟลเดอร์โปรไฟล์ของคุณ ข้อมูลนี้อยู่ในรูปแบบข้อความที่สามารถอ่านได้โดยใช้
ไฟล์ > นำเข้า (File > Import) แต่โปรดทราบว่าการนำเข้ารองรับเพียงประเภทบัตรเดียวเท่านั้น ดังนั้นหากคุณลบบัตรจากหลายประเภท คุณจะต้องแยกไฟล์ออกเป็นหลายไฟล์ตามประเภทก่อน
